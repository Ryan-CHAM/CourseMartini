
<style>
  .form-control.sub:focus {
    border-bottom: 2px solid #38b9ca;
    box-shadow: 0px 3px 1px 0.2px #3fbdce;
  }
</style>

<div class="page-header" style="text-align: center;">
  <br>
  <h1>Search your course!</h1><br><br>
</div>

<div class="container">
  <div class="row">
    <div class="col-lg-8 offset-lg-2">
      <form class="input-group lg-form form-sm form-2 pl-0" action="/search" accept-charset="UTF-8" method="get">
        <input class="form-control sub " type="text" placeholder="e.g. CSCI3100" aria-label="Search" name="search" id="search">
        <div class="input-group-append">
          <button class="btn btn-info " type="submit" value="Search" data-disable-with="Search"><span class="fa fa-search"></span></button>

        </div>
      </form>
    </div>
  </div>

  <br>
  <div class="text-center">
    <a href="/random">
      <button type="button" class="btn btn-outline-info">Give me random courses!</button>
    </a>
  </div><hr>

  <div class="row">
  <!--Div that will hold the bubble chart-->
      <div id="textstyle" style="width: 1350px; height: 750px; margin: 0 auto"></div>
  </div>
</div>


<!--Interactive Data Visualization Module-->
<!-- Load the AJAX API-->
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">

<!-- Load the visualization API and the bubble chart package-->
  google.charts.load("current", { packages: ["corechart"] });

  <!-- Set a call back to run when the google visualization API is loaded -->
  google.charts.setOnLoadCallback(drawChart);

  <!-- Callback that creates and populates a data table, instantiates the bubble chart, passes in the data and draws it/-->

  function drawChart() {


    var data = google.visualization.arrayToDataTable(<%= @courses %>);


    <!-- Set chart options-->
    var options = {
      title:'Don\'t know what course to choose? Come here and see!',
    
        animation:{
        duration: 2000,
        easing: 'inAndOut',
        startup:true

      },

      hAxis: { title: 'Workload' },

      vAxis: { title: 'TeachingQuality' },

      bubble: {
        textStyle: {
          fontSize: 12,
          fontName: 'Times-Roman',
          color: 'green',
          bold: true,
          italic: true

        }
      },

      explorer: {
         maxZoomIn: .5 ,
         maxZoomOut: 8 ,
         keepInBounds: true
      },

      legend:{
        alignment:'center',
        position:'right'
      },

      selectionMode:'multiple',
      
      sortBubblesBySize:true,
    
      tooltip:{
        showColorCode: true
       
      }
    };
   
    <!--Instantiate and draw our chart, passing in some options-->
    var chart = new google.visualization.BubbleChart(document.getElementById('textstyle'));
    chart.draw(data, options);
  }
  

</script>

