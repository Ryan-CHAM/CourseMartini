<%#
    CONTROLLER: profile
    VIEW: /profile/comments/{id}
    PROGRAMMER: Hsieh, Tzuchun
    PURPOSE: this page shows all the comments given by a certain user
%>
<div class="bg">
	<div class="container">
	 	<div class="row">
			<div class="col-lg-10 offset-lg-1">
				<div class="user_form" style="margin-bottom: 50px">
					<%# Display the user's name%>
					<h2 style="margin-bottom: 10px; text-transform: uppercase"><strong><%= @user.name%>'s Comments</strong></h2>
					<div class="row">
						<div class="col-lg-10 offset-lg-1">
							<div class="card-columns">
								<%# If comment exists, show all comments%>
								<%if @comments != nil%>
									<% @comments.each do |comment| %>
											<div class="text_box" style="margin-top:0px">
												<div class="card" style="border:0px">
													<div class="card border-dark mb-3" style="max-width: 100rem;">   
														<div class="card-header" style="margin-bottom:0px"><strong><a href="/courses/<%=comment.course_id%>" style="color:black"><%=comment.courseid %></a></strong></div>
														<div class="card-body text-dark" style="margin-top:-10px">
															<p>Overall: <%= comment.score %> / 5</p>
															<p>Teaching Quality: <%= comment.teachingQuality_score %> / 5</p>
															<p>Usefulness: <%= comment.usefulness_score %> / 5</p>
															<p>Difficulty: <%= comment.difficulty_score %> / 5</p>
															<p>Workload: <%= comment.workload_score %> / 5</p>
															<p>GPA: <%= comment.gpa %> / 4</p><br>
															<p><%= comment.posts %></p>
															<%# If current user is admin, show delete option on comments%>
															<%if current_user&.admin?%>							
																<p><%= link_to "delete", comment_path(comment), method: "delete", data: {confirm: "Comfirm?"} %></p>
															<%end%>
														</div>
													</div>
												</div>
											</div>
									<% end %>
								<% end %>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>